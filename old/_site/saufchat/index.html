<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta
      name="description"
      content="Features"
    />
    <meta
      name="keywords"
      content="web developer, web entwickler, smoolabs, lübeck, günstig, php, javascript, react, wordpress"
    />
    <meta name="author" content="Lukas Mateffy" />
    <meta name="copyright" content="(c) Lukas Mateffy" />
    <meta name="robots" content="index,follow" />
    <meta name="revisit-after" content="14 days" />
    <meta http-equiv="language" content="english, en" />

    <link
      rel="stylesheet"
      href="/assets/css/style.css"
    />
    <link rel="canonical" href="" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Lukas Mateffy"
      href="/feed.xml"
    />

    <title>
      SAUF.CHAT - Lukas Mateffy
    </title>
  </head>
  <body class="antialiased relative min-h-screen">
    <div class="absolute inset-t-0 inset-x-0 bg-blue-500 h-2 shadow-blue"></div>
    <div class="absolute inset-t-0 inset-x-0 h-2 mt-2" style="background-color: yellow;"></div>

    <main style="padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);">
      <div class="header-background"></div>

<header
  class="container mx-auto flex flex-wrap sm:flex-no-wrap justify-between items-center w-full py-8"
>
  <a
    class="text-xl font-semibold no-link-border text-gray-900 text-center sm:text-left w-full sm:w-auto mb-5 sm:mb-0"
    href="/"
    >Lukas Mateffy <span class="blinking">_</span></a
  >
  <nav
    class="flex text-sm font-regular mt-2 sm:mt-0 items-center justify-around sm:justify-end flex-1"
  >
    <!-- <a class="mr-5" href="/about">About Me</a> -->
    <a
      class="transition-colors duration-200 mr-8 no-link-border border-b-2 border-transparent text-gray-800 text-base font-medium hover:border-gray-500 "
      href="/projects"
    >
      Projects
    </a>

    <a
      class="transition-colors duration-200 mr-8 no-link-border border-b-2 border-transparent text-gray-800 text-base font-medium hover:border-gray-500 "
      href="/music"
    >
      Music
    </a>

    <div
      class="flex flex-wrap items-center bg-blue-500 rounded-lg text-gray-100 px-2 py-1 shadow text-gray-100 text-xs text-center sm:text-left"
    >
      <div class="text-gray-200 font-semibold w-full sm:w-auto">
        @capevace
      </div>
      <div
        class="hidden sm:inline-block mx-2 border-r border-blue-300 h-3"
      ></div>
      <div class="flex justify-center w-full sm:w-auto">
        <a class="mr-2 no-link-border" href="https://twitter.com/capevace"
          >Twitter</a
        >
        <a href="https://github.com/capevace" class="no-link-border">GitHub</a>
      </div>
    </div>
    <!-- <a class="mr-5" href="/blog">Blog</a> -->
  </nav>
</header>

<div class="container mx-auto px-5" style="max-width: 750px;">
  <section class="w-full mt-5 mb-10">
    
    
    <img
      src="/saufchat/icon.png"
      class="max-w-2 m-auto filter-shadow fade-in rounded-lg"
      width="200px"
    />
    
  </section>
  <section class="w-full m-auto mb-10 text-gray-900 cursor-default">
    <h1 class="font-bold text-4xl text-center fade-in">
      SAUF.CHAT
    </h1>
    <h2
      class="font-semibold text-gray-600 text-3xl text-center fade-in delay-300"
    >
      Peer-to-peer group video calls<br>and Spotify playback sync
    </h2>
  </section>
  
  <section class="w-full flex mb-20 justify-center fade-in delay-500">
      
    <a
      href="https://sauf.chat"
      class="mx-2 no-link-border"
      style="width: 135px; height: 40px; background: url(/assets/images/visit-button.svg) no-repeat;"
      target="_blank"
    ></a>
      
    <a
      href="https://github.com/capevace/saufchat-ui"
      class="mx-2 no-link-border"
      style="width: 135px; height: 40px; background: url(/assets/images/github-button.svg) no-repeat;"
      target="_blank"
    ></a>
    
  </section>
  

	<section class="w-full m-auto mb-16 text-gray-800 markdown fade-in delay-750">
  <h2 id="features">Features</h2>

<ul>
  <li><strong>Peer-to-peer group video chat</strong> using <a href="https://peerjs.com/">PeerJS</a></li>
  <li>Listen to your favourite music together by <strong>synchronizing your Spotify playback</strong></li>
  <li>Room based authentication: <strong>You only need a link to join!</strong></li>
</ul>

<h3 id="planned">Planned</h3>

<ul>
  <li>Mini games to play together</li>
</ul>

<h2 id="how-it-works">How it works</h2>

<h3 id="video-chat">Video chat</h3>

<p>The server has a list of all connected peers, that every peer has access to. When this list changes, the newly added peer will try to call all peers on the list using <a href="https://peerjs.com/">PeerJS</a>.</p>

<p>However, since this approach does not support things like end-to-end encryption, I’m thinking about switching the call architecture to one based on <a href="https://github.com/jitsi/lib-jitsi-meet">JitsiMeet</a></p>

<h3 id="spotify-playback-sync">Spotify Playback Sync</h3>

<p>The server has a queue of songs created and edited by the users in the current room, that every client has access to. A user can also authenticate Spotify in the page, which gives the SPA API access to Spotify.</p>

<p>Once the list changes by adding, removing or moving a song, every client will then create or update a playlist called <code class="language-plaintext highlighter-rouge">SAUF.CHAT - Queue</code> in the user’s Spotify account and add / remove the respective songs.</p>

<p>The server then keeps track of when the playback was started and how long each song in the list is. That way, we don’t rely on play/pause events being passed to the respective clients for timing the playback correctly, but by having a deterministic playback structure.</p>

<p>By knowing the length of the songs and when the playlist was started, we can calculate where to skip to, should you join later. Actually playing the next song is done by Spotify tho, because we simply let it play the playlist.</p>

</section>

  
  <section class="w-full flex mb-16 fade-in delay-750" id="project-slider">
    <div class="slider-slides relative w-full">
      
      <img
        class="slider-slide opacity-transition w-full flex absolute inset-0"
        src="/saufchat/slide-1.png"
        alt="The project displayed inside a device."
      />
      
      <img
        class="slider-slide opacity-transition w-full flex absolute inset-0"
        src="/saufchat/slide-2.png"
        alt="The project displayed inside a device."
      />
      

      <img
        class="w-full opacity-0"
        src="/saufchat/slide-1.png"
      />
    </div>
  </section>
  

  <div
    class="w-full flex flex-wrap md:flex-no-wrap m-auto mb-20 text-gray-800 fade-in delay-750"
  >
    
    <section class="flex-1 mb-5">
      <h3 class="font-semibold text-2xl mb-3 text-gray-900">Changelog</h3>
      
      <h4 class="font-bold text-xl mb-1">
        <span href="https://github.com/capevace/saufchat-ui/releases/tag/Beta v0.1.423">
          Beta v0.1.423
        </span>

        
        <span class="font-medium">– Spotify release</span>
        
      </h4>
      <ul class="list-inside list-disc mb-5">
        
        <li>Added Spotify sync</li>
        
      </ul>
      
      <h4 class="font-bold text-xl mb-1">
        <span href="https://github.com/capevace/saufchat-ui/releases/tag/Beta v0.1.0">
          Beta v0.1.0
        </span>

        
        <span class="font-medium">– First release</span>
        
      </h4>
      <ul class="list-inside list-disc mb-5">
        
        <li>Working video chat</li>
        
      </ul>
      
    </section>
     
    <section class="w-full md:w-1/3">
      <h3 class="font-semibold text-2xl mb-3 text-gray-900">Meta</h3>
      <table class="text-left">
        
        <tr>
          
        </tr>

        <tr>
          <th valign="top" class="pr-5">Year:</th>
          <td valign="top">2020</td>
        </tr>
         
        <tr>
          <th valign="top" class="pr-5">Platform:</th>
          <td valign="top">macOS</td>
        </tr>
         
        <tr>
          <th valign="top" class="pr-5">Tech:</th>
          <td valign="top">JavaScript, Vue</td>
        </tr>
        
      </table>
    </section>
    
  </div>
</div>


<footer
  class="container mx-auto text-center py-8 flex justify-center text-xs text-gray-800"
>
  <a href="/disclaimer">Disclaimer</a>
  <span class="mx-2">&centerdot;</span>
  <a href="https://twitter.com/capevace">Twitter</a>
  <span class="mx-2">&centerdot;</span>
  <a href="https://GitHub.com/capevace">GitHub</a>
</footer>

    </main>

    <!-- Load fonts here so its not blocking first paint -->
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,700|Sofia|PT+Mono"
      rel="stylesheet"
    />
    <script
      async
      src="/assets/js/app.js"
      charset="utf-8"
    ></script>
  </body>
</html>
